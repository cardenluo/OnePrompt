# OnePrompt

一个Chrome浏览器扩展,提供通用提示词管理功能,支持快捷键弹窗、右键收藏、变量替换等。**可在所有网页使用!**

## 功能特性

- ⌨️ **快捷键支持**: 使用 `Alt+Q` 快速打开/关闭提示词侧边栏
- 🌐 **全网页支持**: 在任何网页都可以使用(不限于豆包)
- 🖱️ **右键收藏**: 选中文本后右键"收藏为提示词"
- 📝 **提示词管理**: 增删改查提示词,支持分类和标签
- 🔍 **快速搜索**: 实时搜索提示词标题、内容、分类和标签
- 🏷️ **分类筛选**: 自动生成分类下拉框,快速筛选
- 📌 **固定侧边栏**: 可固定侧边栏,同时操作网页
- 🎨 **现代UI**: 美观的侧边栏界面,流畅的动画效果
- 🚀 **一键使用**: 点击使用按钮直接复制并插入到输入框
- 🔄 **变量替换**: 支持变量替换功能,可自定义变量名和替换值
- 💡 **智能采用**: 支持智能采用功能,自动添加系统提示和用户输入标识
- 🎯 **UI优化**: 编辑提示词面板标签与输入框单行布局,简化标签文本
- 📐 **统一风格**: 所有输入框使用直角,所有编辑面板弹窗使用圆角
- 📏 **按钮统一**: 所有按钮大小统一,智能采用按钮使用蓝底样式
- 📋 **CSV优化**: 变量列移到最后,方便导入导出
- 🗑️ **简化界面**: 快速弹窗编辑面板移除"标题"和"类型",侧边栏移除"+创建"按钮

## 安装方法

1. 下载或克隆此项目到本地
2. 打开Chrome浏览器,访问 `chrome://extensions/`
3. 打开右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本项目的文件夹

## 使用方法

### 基本操作

1. 在**任何网页**按 `Alt+Q` 打开提示词侧边栏
2. 点击"打开提示词管理"按钮进入管理页面
3. **右键收藏**: 选中文本 → 右键 → "收藏为提示词"
4. 点击提示词卡片上的"使用"按钮直接复制并插入到输入框
5. 点击📌按钮可固定侧边栏

### 变量替换功能

1. 在提示词管理页面创建或编辑提示词
2. 在"变量"输入框中输入变量，格式为 `{变量1},{变量2}`
3. 在"内容"输入框中使用这些变量
4. 点击"使用"按钮时，会弹出变量替换弹窗
5. 输入变量值后，点击"确认替换"或"智能采用"按钮
6. "智能采用"会自动添加系统提示和用户输入标识
7. "采用"会直接使用原始内容，不添加额外标识

### 快速弹窗使用

1. 选择输入框后按 `Alt+Q` 打开快速弹窗
2. 选择提示词后点击"使用"按钮
3. 支持变量替换和智能采用功能

### 支持的网站

- ✅ 豆包 (doubao.com)
- ✅ ChatGPT (chat.openai.com)
- ✅ 文心一言 (yiyan.baidu.com)
- ✅ 通义千问 (qianwen.aliyun.com)
- ✅ 任何包含文本输入框的网页
- ✅ 富文本编辑器(contenteditable)

## 快捷键

- `Alt+Q`: 打开/关闭提示词弹窗

可在 Chrome 扩展设置中自定义快捷键:
`chrome://extensions/shortcuts`

## 变量替换规则

1. 变量名必须用大括号包裹，例如: `{变量1}`
2. 多个变量用逗号分隔，例如: `{变量1},{变量2}`
3. 变量名不能包含大括号或逗号
4. 变量替换弹窗会显示所有定义的变量
5. 输入变量值后，会替换提示词中所有对应的变量

## 智能采用功能

智能采用功能会在提示词前后自动添加以下标识:
- 前置提示词后添加: `，## The following is System prompt: \n`
- 后置提示词前添加: `\n## The following is user's input: \n`

## 界面说明

### 主面板

- **打开提示词管理**: 进入提示词管理页面
- **使用说明**: 查看使用说明文档

### 快速弹窗

- **搜索框**: 搜索提示词
- **类型筛选**: 按类型筛选提示词
- **提示词列表**: 显示所有提示词
- **编辑按钮**: 编辑提示词
- **复制按钮**: 复制提示词内容

### 编辑提示词面板

- **前缀**: 提示词前缀
- **内容**: 提示词主体内容
- **后缀**: 提示词后缀
- **变量**: 定义变量，格式为 `{变量1},{变量2}`
- **取消**: 取消编辑
- **采用**: 直接使用原始内容
- **智能采用**: 自动添加系统提示和用户输入标识

## 项目结构

```
OnePrompt/
├── manifest.json         # 扩展配置文件
├── background.js         # 后台服务脚本
├── content.js           # 内容脚本(核心功能)
├── content.css          # 样式文件
├── popup.html           # 点击图标弹出的主面板
├── popup.js             # 主面板脚本
├── help.html            # 使用说明页面
└── README.md            # 说明文档
```

## 更新日志

### v1.0.0

- 初始版本发布
- 支持快捷键弹窗
- 支持右键收藏
- 支持提示词管理
- 支持变量替换
- 支持智能采用功能
- 支持快速弹窗
- 支持全网页使用

## 注意事项

1. 首次使用需按 `Alt+Q` 打开提示词侧边栏
2. 变量名必须用大括号包裹
3. 智能采用功能会添加特定格式的标识
4. 可在 Chrome 扩展设置中自定义快捷键
5. 支持固定侧边栏，方便同时操作网页
